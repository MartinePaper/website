<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Website : " />


    <link rel="stylesheet" type="text/css"  href="/bootstrap/css/bootstrap.css">

    <link rel="stylesheet" href="/font/aviano-sans/stylesheet.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="/font/sofiapro_light/stylesheet.css" type="text/css" charset="utf-8">

    <link rel="stylesheet" href="/stylesheets/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css">

    <title>MartinePaper | Kelly Invitation | Custom Designed Wedding Invitations | Chicago, IL</title>

  </head>

  <body>

    <div id="main" class="container">
      <div id="header-container">
      </div>

      <div id="breadcrumbs" class="row-fluid">
        <div class="span12">
          <ul class="breadcrumb">
            <li><a href="/index.html">Home</a> <span class="divider">/</span></li>
            <li><a href="/collections.html">Collections</a> <span class="divider">/</span></li>
            <li class="active">Kelly</li>
          </ul>
        </div>
      </div>

      <section id="invitation-detail-section" data-section-layout-orientation="vertical">
      </section>
    </div>


    <script src="/javascripts/jquery-1.8.1.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/javascripts/main.js"></script>
    <script src="/javascripts/handlebars-1.0.rc.1.min.js"></script>

    <script>
      $(function() {
        // set up the menu
        $.get('/templates/header.handlebars', function(data) {
          var headerTemplate = Handlebars.compile(data);
          var headerHtml = headerTemplate();
          $('#header-container').html(headerHtml);
        });

        // TODO: get name from window.location instead
        var name = 'kelly';

        $.getJSON('/collections/invitations.json', function(invitations) {

          var i, index, invitation;
          var invitations = invitations.invitations;
          for(i = 0; i < invitations.length; i++) {
            invitation = invitations[i];
            if(invitation.name === name) {
              index = i;
              break;
            }
          }
          invitation.prevName = invitations[(i === 0) ? invitations.length - 1 : i - 1].name;
          invitation.nextName = invitations[(i === invitations.length - 1) ? 0 : i + 1].name;
          invitation.nameUpperCase = invitation.name[0].toUpperCase() + invitation.name.slice(1);

          invitation.isVertical = invitation.orientation === 'vertical';
          invitation.isHorizontal = invitation.orientation === 'horizontal';

          // set up the invitation detail view
          $.get('/templates/invitation-detail.handlebars', function(templateData) {
            var detailTemplate = Handlebars.compile(templateData);
            var detailHtml = detailTemplate(invitation);
            var detailSection = $('#invitation-detail-section');
            detailSection.attr('data-section-layout-orientation', invitation.orientation);
            detailSection.html(detailHtml);
          });
        });

      });
      
    </script>
  </body>
</html>
